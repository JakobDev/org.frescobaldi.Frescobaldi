---
app-id: org.frescobaldi.Frescobaldi

# TODO:
# - QtWebEngine is not included in org.kde.Sdk, so Documentation
# Browser is not working. Should I really use this?
# https://github.com/flathub/io.qt.qtwebengine.BaseApp
# - Cannot hear MIDI playback (handled by a user systemd service in the host).
# - Check if MIDI input works.

runtime: org.kde.Platform
runtime-version: '5.14'
sdk: org.kde.Sdk
sdk-extensions:
  - org.freedesktop.Sdk.Extension.texlive

command: frescobaldi

finish-args:
  - --filesystem=home
  - --share=ipc
  - --share=network
  - --device=all
  - --socket=pulseaudio
  - --socket=x11
# See Wayland bugs:
# https://github.com/frescobaldi/frescobaldi/issues?q=is%3Aissue+is%3Aopen+wayland+in%3Atitle
#  - --socket=wayland
#  - --env=QT_QPA_PLATFORM=xcb

modules:
  - lilypond.yaml
  - frescobaldi.yaml
